<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>智能灯带 | blog of Jungle</title>
  <meta name="keywords" content=" ESP Rainmaker ">
  <meta name="description" content="智能灯带 | blog of Jungle">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="个人介绍Jungle  毕业于CUIT, 目前在sz工作. 喜欢学习新技术 成为一个合格的程序员, 一定要学好三样东西: 数学 编程 算法 情商 财商     最近什么的干活 面经 + 算法题hot100  提升自我  基础：  集合、反射 JVM linux命令及脚本编程 mysql 、redis、mq 基础知识点及原理   进阶：  多线程高并发【并发编程的艺术】 SSM ：Spring cl">
<meta property="og:type" content="website">
<meta property="og:title" content="个人简介">
<meta property="og:url" content="http://example.com/about/index.html">
<meta property="og:site_name" content="blog of Jungle">
<meta property="og:description" content="个人介绍Jungle  毕业于CUIT, 目前在sz工作. 喜欢学习新技术 成为一个合格的程序员, 一定要学好三样东西: 数学 编程 算法 情商 财商     最近什么的干活 面经 + 算法题hot100  提升自我  基础：  集合、反射 JVM linux命令及脚本编程 mysql 、redis、mq 基础知识点及原理   进阶：  多线程高并发【并发编程的艺术】 SSM ：Spring cl">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-11-13T11:42:01.000Z">
<meta property="article:modified_time" content="2023-09-14T17:15:02.611Z">
<meta property="article:author" content="Jungle">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 5.2.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg" />
</a>
<div class="author">
    <span>Jungle</span>
</div>

<div class="icon">
    
        
        <a title="rss" href="/atom.xml" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-rss"></use>
                </svg>
            
        </a>
        
    
        
        <a title="github" href="https://github.com/jungle8884" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
        <a title="csdn" href="https://blog.csdn.net/jungle8884" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-csdn"></use>
                </svg>
            
        </a>
        
    
        
    
        
        <a title="email" href="mailto:jungle8884@163.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
        
        <a title="qq" href="http://wpa.qq.com/msgrd?v=3&uin=983123369&site=qq&menu=yes" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-qq"></use>
                </svg>
            
        </a>
        
    
        
        <a title="neteasemusic" href="https://music.163.com/#/user/home?id=88786971" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-neteasemusic"></use>
                </svg>
            
        </a>
        
    
</div>




<ul>
    <li><div class="all active" data-rel="全部文章">全部文章<small>(88)</small></div></li>
    
        
            
            <li><div data-rel="工具"><i class="fold iconfont icon-right"></i>工具<small>(11)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="工具<--->插件">插件<small>(2)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="工具<--->audio">audio<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="工具<--->ChatGPT">ChatGPT<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="工具<--->git">git<small>(3)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="工具<--->github">github<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="后端"><i class="fold iconfont icon-right"></i>后端<small>(22)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="后端<--->设计模式">设计模式<small>(8)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="后端<--->C#">C#<small>(2)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="后端<--->Java">Java<small>(11)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="后端<--->SpringBoot">SpringBoot<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
            <li><div data-rel="数据库"><i class="fold iconfont icon-right"></i>数据库<small>(2)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="数据库<--->MySQL">MySQL<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="数据库<--->Redis">Redis<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
            <li><div data-rel="沉淀一下">沉淀一下<small>(1)</small></div>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="前端">前端<small>(1)</small></div>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="算法"><i class="fold iconfont icon-right"></i>算法<small>(17)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="算法<--->滑动窗口">滑动窗口<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="算法<--->基础">基础<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="算法<--->面试题">面试题<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="算法<--->日期">日期<small>(2)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="算法<--->树">树<small>(4)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="算法<--->数学">数学<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="算法<--->数组">数组<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="算法<--->双指针">双指针<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="算法<--->图">图<small>(2)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="算法<--->LeetCode">LeetCode<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
            <li><div data-rel="物联网"><i class="fold iconfont icon-right"></i>物联网<small>(15)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="物联网<--->乐鑫">乐鑫<small>(2)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="物联网<--->设备端">设备端<small>(7)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="物联网<--->物联网平台">物联网平台<small>(5)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="docker"><i class="fold iconfont icon-right"></i>docker<small>(6)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="docker<--->fastbee">fastbee<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="docker<--->ruoyi">ruoyi<small>(2)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
            <li><div data-rel="linux"><i class="fold iconfont icon-right"></i>linux<small>(5)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="linux<--->基本使用">基本使用<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="linux<--->三剑客">三剑客<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="linux<--->shell">shell<small>(1)</small></div>
                            
                        </li>
                            
                        <li><div data-rel="linux<--->wls">wls<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
            <li><div data-rel="Python"><i class="fold iconfont icon-right"></i>Python<small>(7)</small></div>
                
                    <ul class="sub hide">
                        
                        <li><div data-rel="Python<--->pytorch">pytorch<small>(1)</small></div>
                            
                        </li>
                            
                    </ul>
                
            </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a class="about  hasFriend  site_url"  href="/about">关于</a><a style="width: 50%"  class="friends">友链</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="88">
<input type="hidden" id="yelog_site_word_count" value="278.5k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" />
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>51C</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>博客搭建</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>蔡勒公式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>策略模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>查找</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>抽象工厂模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>创建型模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>代理模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>单例模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>迭代器</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>多表查询</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>多态</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>多线程</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>二叉树</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>工厂方法模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>构建型模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>观察者模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>滑动窗口</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>集合</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>简单工厂模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>建造者模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>结构型模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>进制转换</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>镜像</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>开发</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>开发框架</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>快速平方根</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>乐鑫</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>六大原则</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>爬虫</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>排序</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>前端</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>前缀树</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>容器</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>闰年</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>事务</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>数据库的备份和还原</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>数据库的设计</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>数组</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>双指针</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>贪心</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>图</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>委托与事件</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>行为型模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>优先队列</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>油猴</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>原码, 反码, 补码, 移码</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>原型模式</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>约束</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Ado.net</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ArrayList</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>AT</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>audio</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>awk</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>C</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>C#</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ChatGPT</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>device</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>DL</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>docker</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ESP Rainmaker</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>esp-idf</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ESP32</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ESP32C3</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>fastapi</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>fastbee</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Fastbee</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>FleetBee</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>git</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>github</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>grep</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>http</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>IO</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>iot</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>JavaScript</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Job</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>k3s</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>LeetCode</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>LinkedList</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>linux</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>List</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Map</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MircroPython</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>mqtt上传文件</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>N叉树</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>N的阶乘</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>NoSQL</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>OJ</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>pyside</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>python</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Python</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>pytorch</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Resnet</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>sed</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Set</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>shadowsocks</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>shell</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Shell</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SpringBoot</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SQL</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>STM32</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Stream</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>tkinter</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Utils</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Vector</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>video</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Vue</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>WebGIS</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        <a id="top" class="全部文章 Python "
           href="/2020/11/24/WordofCS/"
           data-tag="DL"
           data-author="" >
            <span class="post-title" title="WordofCS">WordofCS</span>
            <span class="post-date" title="2020-11-24 17:21:02">2020/11/24</span>
        </a>
        
        <a  class="全部文章 Python "
           href="/2025/09/29/pysideRecord/"
           data-tag="pyside"
           data-author="" >
            <span class="post-title" title="pysideRecord">pysideRecord</span>
            <span class="post-date" title="2025-09-29 20:46:51">2025/09/29</span>
        </a>
        
        <a  class="全部文章 docker fastbee "
           href="/2025/09/19/dockerDeploy/"
           data-tag="iot"
           data-author="" >
            <span class="post-title" title="fastbee项目部署">fastbee项目部署</span>
            <span class="post-date" title="2025-09-19 10:22:51">2025/09/19</span>
        </a>
        
        <a  class="全部文章 Python "
           href="/2025/09/18/fastapiLearning/"
           data-tag="fastapi"
           data-author="" >
            <span class="post-title" title="fastapiNote">fastapiNote</span>
            <span class="post-date" title="2025-09-18 15:42:57">2025/09/18</span>
        </a>
        
        <a  class="全部文章 linux "
           href="/2025/07/21/Ubuntu/"
           data-tag="shell"
           data-author="" >
            <span class="post-title" title="Linux">Linux</span>
            <span class="post-date" title="2025-07-21 09:57:43">2025/07/21</span>
        </a>
        
        <a  class="全部文章 物联网 "
           href="/2025/03/06/esp32-ubuntun-start/"
           data-tag="乐鑫"
           data-author="" >
            <span class="post-title" title="esp32_ubuntun_start">esp32_ubuntun_start</span>
            <span class="post-date" title="2025-03-06 15:02:56">2025/03/06</span>
        </a>
        
        <a  class="全部文章 "
           href="/2025/01/18/vim-use/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="vim-use">vim-use</span>
            <span class="post-date" title="2025-01-18 09:35:04">2025/01/18</span>
        </a>
        
        <a  class="全部文章 linux shell "
           href="/2025/01/15/shell-programming/"
           data-tag="linux"
           data-author="" >
            <span class="post-title" title="shell_programming">shell_programming</span>
            <span class="post-date" title="2025-01-15 15:40:40">2025/01/15</span>
        </a>
        
        <a  class="全部文章 物联网 乐鑫 "
           href="/2024/12/30/esp-idf-record/"
           data-tag="esp-idf"
           data-author="" >
            <span class="post-title" title="esp-idf-record">esp-idf-record</span>
            <span class="post-date" title="2024-12-30 10:46:49">2024/12/30</span>
        </a>
        
        <a  class="全部文章 物联网 乐鑫 "
           href="/2024/12/27/esp-idf-cmd/"
           data-tag="esp-idf"
           data-author="" >
            <span class="post-title" title="esp-idf-cmd">esp-idf-cmd</span>
            <span class="post-date" title="2024-12-27 16:41:01">2024/12/27</span>
        </a>
        
        <a  class="全部文章 Python "
           href="/2024/09/06/pyGUI/"
           data-tag="tkinter"
           data-author="" >
            <span class="post-title" title="tkinterecord">tkinterecord</span>
            <span class="post-date" title="2024-09-06 14:41:16">2024/09/06</span>
        </a>
        
        <a  class="全部文章 物联网 设备端 "
           href="/2024/08/26/basic-Arduino/"
           data-tag="C"
           data-author="" >
            <span class="post-title" title="basic_Arduino">basic_Arduino</span>
            <span class="post-date" title="2024-08-26 17:47:27">2024/08/26</span>
        </a>
        
        <a  class="全部文章 物联网 物联网平台 "
           href="/2024/08/13/mqtt/"
           data-tag="mqtt上传文件"
           data-author="" >
            <span class="post-title" title="MQTT">MQTT</span>
            <span class="post-date" title="2024-08-13 15:45:34">2024/08/13</span>
        </a>
        
        <a  class="全部文章 物联网 设备端 "
           href="/2024/06/07/IntelligenLEDStrip/"
           data-tag="ESP Rainmaker"
           data-author="" >
            <span class="post-title" title="智能灯带">智能灯带</span>
            <span class="post-date" title="2024-06-07 10:15:00">2024/06/07</span>
        </a>
        
        <a  class="全部文章 linux wls "
           href="/2024/05/28/linux-note/"
           data-tag="linux"
           data-author="" >
            <span class="post-title" title="linux_note">linux_note</span>
            <span class="post-date" title="2024-05-28 09:22:34">2024/05/28</span>
        </a>
        
        <a  class="全部文章 docker "
           href="/2024/05/14/k3s%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/"
           data-tag="k3s"
           data-author="" >
            <span class="post-title" title="k3s">k3s</span>
            <span class="post-date" title="2024-05-14 16:36:52">2024/05/14</span>
        </a>
        
        <a  class="全部文章 docker "
           href="/2024/05/14/local_deploy/"
           data-tag="fastbee"
           data-author="" >
            <span class="post-title" title="物联网平台本地部署并接入摄像头">物联网平台本地部署并接入摄像头</span>
            <span class="post-date" title="2024-05-14 16:31:52">2024/05/14</span>
        </a>
        
        <a  class="全部文章 物联网 物联网平台 "
           href="/2024/04/12/CameraAccess/"
           data-tag="FleetBee"
           data-author="" >
            <span class="post-title" title="摄像头接入">摄像头接入</span>
            <span class="post-date" title="2024-04-12 16:48:52">2024/04/12</span>
        </a>
        
        <a  class="全部文章 linux 基本使用 "
           href="/2024/03/31/linux%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"
           data-tag="linux"
           data-author="" >
            <span class="post-title" title="linux的基本使用">linux的基本使用</span>
            <span class="post-date" title="2024-03-31 17:40:34">2024/03/31</span>
        </a>
        
        <a  class="全部文章 docker ruoyi "
           href="/2024/01/09/ruoyi_2Dev/"
           data-tag="开发框架"
           data-author="" >
            <span class="post-title" title="ruoyi-二次开发">ruoyi-二次开发</span>
            <span class="post-date" title="2024-01-09 11:20:00">2024/01/09</span>
        </a>
        
        <a  class="全部文章 docker ruoyi "
           href="/2024/01/06/ruoyi/"
           data-tag="开发框架"
           data-author="" >
            <span class="post-title" title="ruoyi">ruoyi</span>
            <span class="post-date" title="2024-01-06 15:20:00">2024/01/06</span>
        </a>
        
        <a  class="全部文章 后端 SpringBoot "
           href="/2024/01/05/SpringBoor_Vue/"
           data-tag="SpringBoot,Vue"
           data-author="" >
            <span class="post-title" title="SpringBoot_Vue">SpringBoot_Vue</span>
            <span class="post-date" title="2024-01-05 11:20:01">2024/01/05</span>
        </a>
        
        <a  class="全部文章 物联网 物联网平台 "
           href="/2023/12/27/wumei_DeepIn/"
           data-tag="device"
           data-author="" >
            <span class="post-title" title="wumei-deviceDeepIn">wumei-deviceDeepIn</span>
            <span class="post-date" title="2023-12-27 10:23:00">2023/12/27</span>
        </a>
        
        <a  class="全部文章 物联网 物联网平台 "
           href="/2023/12/26/wumei_deviceInto/"
           data-tag="device"
           data-author="" >
            <span class="post-title" title="wumei-deviceInto">wumei-deviceInto</span>
            <span class="post-date" title="2023-12-26 11:20:00">2023/12/26</span>
        </a>
        
        <a  class="全部文章 物联网 设备端 "
           href="/2023/12/12/ESP32-C3/"
           data-tag="ESP32C3"
           data-author="" >
            <span class="post-title" title="ESP32C3">ESP32C3</span>
            <span class="post-date" title="2023-12-12 15:43:52">2023/12/12</span>
        </a>
        
        <a  class="全部文章 物联网 物联网平台 "
           href="/2023/12/11/wumei/"
           data-tag="Fastbee"
           data-author="" >
            <span class="post-title" title="wumei">wumei</span>
            <span class="post-date" title="2023-12-11 09:48:52">2023/12/11</span>
        </a>
        
        <a  class="全部文章 物联网 设备端 "
           href="/2023/11/08/ESP32/"
           data-tag="MircroPython"
           data-author="" >
            <span class="post-title" title="MircroPython">MircroPython</span>
            <span class="post-date" title="2023-11-08 18:02:31">2023/11/08</span>
        </a>
        
        <a  class="全部文章 算法 数学 "
           href="/2023/11/01/Q-rsqrt/"
           data-tag="快速平方根"
           data-author="" >
            <span class="post-title" title="Q_rsqrt">Q_rsqrt</span>
            <span class="post-date" title="2023-11-01 08:52:08">2023/11/01</span>
        </a>
        
        <a  class="全部文章 工具 audio "
           href="/2023/10/16/audioConvert/"
           data-tag="python,audio"
           data-author="" >
            <span class="post-title" title="audioConvert">audioConvert</span>
            <span class="post-date" title="2023-10-16 19:34:43">2023/10/16</span>
        </a>
        
        <a  class="全部文章 物联网 设备端 "
           href="/2023/10/14/STM32/"
           data-tag="STM32"
           data-author="" >
            <span class="post-title" title="STM32">STM32</span>
            <span class="post-date" title="2023-10-14 08:59:19">2023/10/14</span>
        </a>
        
        <a  class="全部文章 物联网 设备端 "
           href="/2023/10/08/51C/"
           data-tag="51C"
           data-author="" >
            <span class="post-title" title="51C">51C</span>
            <span class="post-date" title="2023-10-08 17:20:10">2023/10/08</span>
        </a>
        
        <a  class="全部文章 算法 面试题 "
           href="/2023/09/18/JobInterview/"
           data-tag="N的阶乘"
           data-author="" >
            <span class="post-title" title="JobInterview">JobInterview</span>
            <span class="post-date" title="2023-09-18 21:55:19">2023/09/18</span>
        </a>
        
        <a  class="全部文章 算法 LeetCode "
           href="/2023/09/13/hot100/"
           data-tag="LeetCode"
           data-author="" >
            <span class="post-title" title="hot100">hot100</span>
            <span class="post-date" title="2023-09-13 10:17:00">2023/09/13</span>
        </a>
        
        <a  class="全部文章 后端 Java "
           href="/2023/09/05/4Job/"
           data-tag="Job,WebGIS,Shell"
           data-author="" >
            <span class="post-title" title="Javaer&#39;s development">Javaer&#39;s development</span>
            <span class="post-date" title="2023-09-05 00:00:00">2023/09/05</span>
        </a>
        
        <a  class="全部文章 后端 Java "
           href="/2023/03/24/Stream/"
           data-tag="Stream"
           data-author="" >
            <span class="post-title" title="Stream">Stream</span>
            <span class="post-date" title="2023-03-24 09:42:49">2023/03/24</span>
        </a>
        
        <a  class="全部文章 物联网 设备端 "
           href="/2023/03/08/ESP32ATLog/"
           data-tag="ESP32,AT"
           data-author="" >
            <span class="post-title" title="ESP32AT指令集探索">ESP32AT指令集探索</span>
            <span class="post-date" title="2023-03-08 14:52:56">2023/03/08</span>
        </a>
        
        <a  class="全部文章 工具 插件 "
           href="/2023/02/09/AddOn4SpeedPlay/"
           data-tag="video"
           data-author="" >
            <span class="post-title" title="AddOn4SpeedPlay">AddOn4SpeedPlay</span>
            <span class="post-date" title="2023-02-09 13:05:26">2023/02/09</span>
        </a>
        
        <a  class="全部文章 工具 ChatGPT "
           href="/2023/02/09/ChatGPT/"
           data-tag="ChatGPT"
           data-author="" >
            <span class="post-title" title="Usage of ChatGPT">Usage of ChatGPT</span>
            <span class="post-date" title="2023-02-09 12:34:54">2023/02/09</span>
        </a>
        
        <a  class="全部文章 后端 Java "
           href="/2023/02/09/Java-io/"
           data-tag="IO"
           data-author="" >
            <span class="post-title" title="Java-io">Java-io</span>
            <span class="post-date" title="2023-02-09 12:27:55">2023/02/09</span>
        </a>
        
        <a  class="全部文章 工具 插件 "
           href="/2023/01/17/Freedom/"
           data-tag="油猴"
           data-author="" >
            <span class="post-title" title="Videos">Videos</span>
            <span class="post-date" title="2023-01-17 21:43:30">2023/01/17</span>
        </a>
        
        <a  class="全部文章 后端 Java "
           href="/2022/12/04/DevConcludes/"
           data-tag="开发"
           data-author="" >
            <span class="post-title" title="DevConcludes">DevConcludes</span>
            <span class="post-date" title="2022-12-04 22:16:46">2022/12/04</span>
        </a>
        
        <a  class="全部文章 后端 Java "
           href="/2022/10/16/Java-Utils/"
           data-tag="Utils"
           data-author="" >
            <span class="post-title" title="Java-Utils">Java-Utils</span>
            <span class="post-date" title="2022-10-16 16:15:29">2022/10/16</span>
        </a>
        
        <a  class="全部文章 算法 数组 "
           href="/2022/05/02/Array/"
           data-tag="数组"
           data-author="" >
            <span class="post-title" title="数组">数组</span>
            <span class="post-date" title="2022-05-02 00:00:00">2022/05/02</span>
        </a>
        
        <a  class="全部文章 算法 图 "
           href="/2022/01/23/TopologicalSorting/"
           data-tag="图"
           data-author="" >
            <span class="post-title" title="拓扑排序">拓扑排序</span>
            <span class="post-date" title="2022-01-23 00:00:00">2022/01/23</span>
        </a>
        
        <a  class="全部文章 算法 图 "
           href="/2021/12/31/Graph-DataStructure/"
           data-tag="图"
           data-author="" >
            <span class="post-title" title="图的数据结构">图的数据结构</span>
            <span class="post-date" title="2021-12-31 10:41:29">2021/12/31</span>
        </a>
        
        <a  class="全部文章 后端 设计模式 "
           href="/2021/12/30/DesignPatternofSixPrinciples/"
           data-tag="六大原则"
           data-author="" >
            <span class="post-title" title="六大设计原则">六大设计原则</span>
            <span class="post-date" title="2021-12-30 15:11:05">2021/12/30</span>
        </a>
        
        <a  class="全部文章 算法 树 "
           href="/2021/12/13/BinaryTree-traverse/"
           data-tag="二叉树"
           data-author="" >
            <span class="post-title" title="二叉树的遍历框架">二叉树的遍历框架</span>
            <span class="post-date" title="2021-12-13 10:50:34">2021/12/13</span>
        </a>
        
        <a  class="全部文章 算法 "
           href="/2021/12/08/Trie-341-NestedIterator/"
           data-tag="前缀树,N叉树,迭代器"
           data-author="" >
            <span class="post-title" title="扁平化嵌套列表迭代器">扁平化嵌套列表迭代器</span>
            <span class="post-date" title="2021-12-08 16:38:11">2021/12/08</span>
        </a>
        
        <a  class="全部文章 算法 树 "
           href="/2021/11/26/BinaryTree-297-SerializeAndDeserialize/"
           data-tag="二叉树"
           data-author="" >
            <span class="post-title" title="二叉树的序列化和反序列化">二叉树的序列化和反序列化</span>
            <span class="post-date" title="2021-11-26 17:32:54">2021/11/26</span>
        </a>
        
        <a  class="全部文章 算法 日期 "
           href="/2021/09/16/Calculate-date/"
           data-tag="闰年"
           data-author="" >
            <span class="post-title" title="Calculate_date">Calculate_date</span>
            <span class="post-date" title="2021-09-16 21:05:01">2021/09/16</span>
        </a>
        
        <a  class="全部文章 后端 设计模式 "
           href="/2021/09/15/DesignPatterofStrategy/"
           data-tag="行为型模式,策略模式"
           data-author="" >
            <span class="post-title" title="策略模式">策略模式</span>
            <span class="post-date" title="2021-09-15 20:58:14">2021/09/15</span>
        </a>
        
        <a  class="全部文章 后端 设计模式 "
           href="/2021/09/15/DesignPatternofObserver/"
           data-tag="观察者模式,行为型模式"
           data-author="" >
            <span class="post-title" title="观察者模式">观察者模式</span>
            <span class="post-date" title="2021-09-15 20:41:49">2021/09/15</span>
        </a>
        
        <a  class="全部文章 后端 设计模式 "
           href="/2021/09/15/DesignPatternofProxy/"
           data-tag="代理模式,结构型模式"
           data-author="" >
            <span class="post-title" title="代理模式">代理模式</span>
            <span class="post-date" title="2021-09-15 20:30:32">2021/09/15</span>
        </a>
        
        <a  class="全部文章 算法 "
           href="/2021/09/07/PriorityQueue/"
           data-tag="优先队列,贪心"
           data-author="" >
            <span class="post-title" title="PriorityQueue">PriorityQueue</span>
            <span class="post-date" title="2021-09-07 00:00:00">2021/09/07</span>
        </a>
        
        <a  class="全部文章 算法 基础 "
           href="/2021/08/31/SearchAndSort/"
           data-tag="排序,查找"
           data-author="" >
            <span class="post-title" title="SearchAndSort">SearchAndSort</span>
            <span class="post-date" title="2021-08-31 14:27:08">2021/08/31</span>
        </a>
        
        <a  class="全部文章 后端 Java "
           href="/2021/08/13/HashSet-HashMap-analyse/"
           data-tag="集合,Set,Map"
           data-author="" >
            <span class="post-title" title="HashMap">HashMap</span>
            <span class="post-date" title="2021-08-13 14:59:19">2021/08/13</span>
        </a>
        
        <a  class="全部文章 后端 Java "
           href="/2021/08/13/LinkedList-analyse/"
           data-tag="集合,LinkedList"
           data-author="" >
            <span class="post-title" title="LinkedList-analyse">LinkedList-analyse</span>
            <span class="post-date" title="2021-08-13 13:19:52">2021/08/13</span>
        </a>
        
        <a  class="全部文章 后端 Java "
           href="/2021/08/13/Vector-analyse/"
           data-tag="集合,List,Vector"
           data-author="" >
            <span class="post-title" title="Vector-analyse">Vector-analyse</span>
            <span class="post-date" title="2021-08-13 11:42:21">2021/08/13</span>
        </a>
        
        <a  class="全部文章 后端 Java "
           href="/2021/08/13/Arraylist-analyse/"
           data-tag="集合,List,ArrayList"
           data-author="" >
            <span class="post-title" title="Arraylist_analyse">Arraylist_analyse</span>
            <span class="post-date" title="2021-08-13 08:59:00">2021/08/13</span>
        </a>
        
        <a  class="全部文章 后端 Java "
           href="/2021/08/10/Java-JUC/"
           data-tag="多线程"
           data-author="" >
            <span class="post-title" title="Java_JUC">Java_JUC</span>
            <span class="post-date" title="2021-08-10 20:42:30">2021/08/10</span>
        </a>
        
        <a  class="全部文章 算法 树 "
           href="/2021/07/09/Trie/"
           data-tag="前缀树,N叉树"
           data-author="" >
            <span class="post-title" title="过滤敏感词">过滤敏感词</span>
            <span class="post-date" title="2021-07-09 00:00:00">2021/07/09</span>
        </a>
        
        <a  class="全部文章 算法 滑动窗口 "
           href="/2021/07/02/slidingwindow/"
           data-tag="滑动窗口"
           data-author="" >
            <span class="post-title" title="滑动窗口">滑动窗口</span>
            <span class="post-date" title="2021-07-02 00:00:00">2021/07/02</span>
        </a>
        
        <a  class="全部文章 算法 双指针 "
           href="/2021/07/01/doublepointers/"
           data-tag="双指针"
           data-author="" >
            <span class="post-title" title="双指针">双指针</span>
            <span class="post-date" title="2021-07-01 00:00:00">2021/07/01</span>
        </a>
        
        <a  class="全部文章 数据库 Redis "
           href="/2021/06/29/redis-LearningNote/"
           data-tag="NoSQL"
           data-author="" >
            <span class="post-title" title="redis学习笔记">redis学习笔记</span>
            <span class="post-date" title="2021-06-29 00:00:00">2021/06/29</span>
        </a>
        
        <a  class="全部文章 算法 日期 "
           href="/2021/06/27/Zeller/"
           data-tag="蔡勒公式,OJ"
           data-author="" >
            <span class="post-title" title="Week = (Day + 2*Month + 3*(Month+1)/5 + Year + Year/4 - Year/100 + Year/400) % 7">Week = (Day + 2*Month + 3*(Month+1)/5 + Year + Year/4 - Year/100 + Year/400) % 7</span>
            <span class="post-date" title="2021-06-27 00:00:00">2021/06/27</span>
        </a>
        
        <a  class="全部文章 算法 树 "
           href="/2021/06/01/BinaryTree/"
           data-tag="二叉树"
           data-author="" >
            <span class="post-title" title="二叉树">二叉树</span>
            <span class="post-date" title="2021-06-01 00:00:00">2021/06/01</span>
        </a>
        
        <a  class="全部文章 linux 三剑客 "
           href="/2021/05/27/linuxLearningNote/"
           data-tag="linux,grep,sed,awk"
           data-author="" >
            <span class="post-title" title="排查问题">排查问题</span>
            <span class="post-date" title="2021-05-27 00:00:00">2021/05/27</span>
        </a>
        
        <a  class="全部文章 Python "
           href="/2021/05/05/Resnet/"
           data-tag="DL,Resnet"
           data-author="" >
            <span class="post-title" title="Resnet">Resnet</span>
            <span class="post-date" title="2021-05-05 00:00:00">2021/05/05</span>
        </a>
        
        <a  class="全部文章 后端 Java "
           href="/2021/04/29/Java-polymorphism/"
           data-tag="多态"
           data-author="" >
            <span class="post-title" title="Java-polymorphism">Java-polymorphism</span>
            <span class="post-date" title="2021-04-29 00:00:00">2021/04/29</span>
        </a>
        
        <a  class="全部文章 后端 设计模式 "
           href="/2021/04/14/DesignPatternofBuilder/"
           data-tag="建造者模式,构建型模式"
           data-author="" >
            <span class="post-title" title="建造者模式">建造者模式</span>
            <span class="post-date" title="2021-04-14 00:00:00">2021/04/14</span>
        </a>
        
        <a  class="全部文章 后端 设计模式 "
           href="/2021/04/10/DesignPatternofSingleton/"
           data-tag="构建型模式,单例模式"
           data-author="" >
            <span class="post-title" title="单例模式">单例模式</span>
            <span class="post-date" title="2021-04-10 00:00:00">2021/04/10</span>
        </a>
        
        <a  class="全部文章 前端 "
           href="/2021/04/09/JavaScript-Note/"
           data-tag="前端,JavaScript"
           data-author="" >
            <span class="post-title" title="JavaScript">JavaScript</span>
            <span class="post-date" title="2021-04-09 14:27:00">2021/04/09</span>
        </a>
        
        <a  class="全部文章 Python pytorch "
           href="/2021/04/09/DockerPractice/"
           data-tag="pytorch"
           data-author="" >
            <span class="post-title" title="pytorch">pytorch</span>
            <span class="post-date" title="2021-04-09 00:00:00">2021/04/09</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/2021/04/06/GitLearningNote-2/"
           data-tag="git"
           data-author="" >
            <span class="post-title" title="git学习笔记">git学习笔记</span>
            <span class="post-date" title="2021-04-06 00:00:00">2021/04/06</span>
        </a>
        
        <a  class="全部文章 后端 设计模式 "
           href="/2021/04/02/DesignPatternofPrototype/"
           data-tag="构建型模式,原型模式"
           data-author="" >
            <span class="post-title" title="原型模式">原型模式</span>
            <span class="post-date" title="2021-04-02 00:00:00">2021/04/02</span>
        </a>
        
        <a  class="全部文章 后端 设计模式 "
           href="/2021/03/30/DesignPatternofFactory/"
           data-tag="创建型模式,简单工厂模式,工厂方法模式,抽象工厂模式"
           data-author="" >
            <span class="post-title" title="工厂模式">工厂模式</span>
            <span class="post-date" title="2021-03-30 00:00:00">2021/03/30</span>
        </a>
        
        <a  class="全部文章 数据库 MySQL "
           href="/2021/03/23/MySQLearningNote/"
           data-tag="SQL,约束,数据库的设计,数据库的备份和还原,多表查询,事务"
           data-author="" >
            <span class="post-title" title="MySQL学习笔记">MySQL学习笔记</span>
            <span class="post-date" title="2021-03-23 00:00:00">2021/03/23</span>
        </a>
        
        <a  class="全部文章 docker "
           href="/2021/03/19/DockerLearningNoteBase/"
           data-tag="docker,镜像,容器"
           data-author="" >
            <span class="post-title" title="Docker笔记">Docker笔记</span>
            <span class="post-date" title="2021-03-19 00:00:00">2021/03/19</span>
        </a>
        
        <a  class="全部文章 后端 C# "
           href="/2020/10/16/Ado-.net/"
           data-tag="C#,Ado.net"
           data-author="" >
            <span class="post-title" title="Ado.net">Ado.net</span>
            <span class="post-date" title="2020-10-16 00:00:00">2020/10/16</span>
        </a>
        
        <a  class="全部文章 工具 github "
           href="/2020/10/12/GitHubSearch/"
           data-tag="github"
           data-author="" >
            <span class="post-title" title="学会在github上搜索项目">学会在github上搜索项目</span>
            <span class="post-date" title="2020-10-12 13:55:57">2020/10/12</span>
        </a>
        
        <a  class="全部文章 后端 C# "
           href="/2020/09/21/Event-publisher-subscriber/"
           data-tag="C#,委托与事件"
           data-author="" >
            <span class="post-title" title="Event_publisher_subscriber">Event_publisher_subscriber</span>
            <span class="post-date" title="2020-09-21 15:17:32">2020/09/21</span>
        </a>
        
        <a  class="全部文章 沉淀一下 "
           href="/2019/12/16/SoftwareDesignTest/"
           data-tag="原码, 反码, 补码, 移码,进制转换"
           data-author="" >
            <span class="post-title" title="软件设计师">软件设计师</span>
            <span class="post-date" title="2019-12-16 10:46:08">2019/12/16</span>
        </a>
        
        <a  class="全部文章 工具 "
           href="/2019/12/03/douban-spider/"
           data-tag="爬虫,Python"
           data-author="" >
            <span class="post-title" title="豆瓣排行榜小爬虫">豆瓣排行榜小爬虫</span>
            <span class="post-date" title="2019-12-03 00:00:00">2019/12/03</span>
        </a>
        
        <a  class="全部文章 工具 "
           href="/2019/09/30/Crawler/"
           data-tag="爬虫,http"
           data-author="" >
            <span class="post-title" title="什么是网络爬虫">什么是网络爬虫</span>
            <span class="post-date" title="2019-09-30 14:35:05">2019/09/30</span>
        </a>
        
        <a  class="全部文章 Python "
           href="/2019/08/31/PythonNote/"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="Python课堂笔记">Python课堂笔记</span>
            <span class="post-date" title="2019-08-31 14:28:16">2019/08/31</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/2019/08/10/HowToMakeBlog/"
           data-tag="博客搭建"
           data-author="" >
            <span class="post-title" title="搭建hexo博客">搭建hexo博客</span>
            <span class="post-date" title="2019-08-10 00:00:00">2019/08/10</span>
        </a>
        
        <a  class="全部文章 工具 git "
           href="/2019/06/13/GitLearningNote-1/"
           data-tag="git"
           data-author="" >
            <span class="post-title" title="git 初试">git 初试</span>
            <span class="post-date" title="2019-06-13 00:00:00">2019/06/13</span>
        </a>
        
        <a  class="全部文章 工具 "
           href="/2019/06/13/On-the-Internet-Scientifically/"
           data-tag="shadowsocks"
           data-author="" >
            <span class="post-title" title="科学上网">科学上网</span>
            <span class="post-date" title="2019-06-13 00:00:00">2019/06/13</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-IntelligenLEDStrip" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">智能灯带</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="物联网">物联网</a> > 
            
            <a  data-rel="物联网&lt;---&gt;设备端">设备端</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color4">ESP Rainmaker</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2024-08-13 15:55:23'>2024-06-07 10:15</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:5k</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="跳转至评论区">
            <a href="#comments">
                评论:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%99%BA%E8%83%BD%E7%81%AF%E5%B8%A6"><span class="toc-text">智能灯带</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%A9%E6%B0%94"><span class="toc-text">天气</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%A9%E6%B0%94%E4%BF%A1%E6%81%AF"><span class="toc-text">天气信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E4%BB%A3%E7%A0%81"><span class="toc-text">主要代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="toc-text">环境配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6"><span class="toc-text">自定义组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-text">全局变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#GPIO"><span class="toc-text">GPIO</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%A9%E6%B0%94-1"><span class="toc-text">天气</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%81%AF%E5%B8%A6"><span class="toc-text">灯带</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E9%87%8F"><span class="toc-text">信号量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ESP-Rainmaker"><span class="toc-text">ESP Rainmaker</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%81%AF%E5%B8%A6-1"><span class="toc-text">灯带</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E4%BB%A3%E7%A0%81-1"><span class="toc-text">主要代码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%81%AF%E5%B8%A6%E9%85%8D%E7%BD%AE"><span class="toc-text">灯带配置</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#led-strip-types-h"><span class="toc-text">led_strip_types.h</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E7%81%AF%E5%B8%A6%E5%B9%B6%E8%BF%94%E5%9B%9E%E7%81%AF%E5%B8%A6%E5%AF%B9%E8%B1%A1"><span class="toc-text">配置灯带并返回灯带对象</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BC%E5%90%B8%E7%81%AF%E5%AE%9E%E7%8E%B0"><span class="toc-text">呼吸灯实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%81%E6%B0%B4%E7%81%AF%E5%AE%9E%E7%8E%B0"><span class="toc-text">流水灯实现</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IOT%E8%B5%8B%E8%83%BD-%E6%99%BA%E8%83%BD%E7%81%AF%E5%B8%A6"><span class="toc-text">IOT赋能-智能灯带</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%B4%E6%96%87%E4%BB%B6"><span class="toc-text">头文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E5%87%BD%E6%95%B0"><span class="toc-text">主函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#NVS%E5%AD%98%E5%82%A8"><span class="toc-text">NVS存储</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5WIFI"><span class="toc-text">连接WIFI</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ESP-Rainmaker-APP-%E8%93%9D%E7%89%99%E9%85%8D%E7%BD%91"><span class="toc-text">ESP Rainmaker APP 蓝牙配网</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Rainmaker"><span class="toc-text">Rainmaker</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#APP%E7%95%8C%E9%9D%A2UI%E8%AE%BE%E7%BD%AE"><span class="toc-text">APP界面UI设置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0"><span class="toc-text">回调函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#hue-to-rgb"><span class="toc-text">hue_to_rgb</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#led-task"><span class="toc-text">led_task</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#http-test-task"><span class="toc-text">http_test_task</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B4%E4%BD%93%E5%87%BD%E6%95%B0"><span class="toc-text">整体函数</span></a></li></ol></li></ol></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="智能灯带"><a href="#智能灯带" class="headerlink" title="智能灯带"></a><em>智能灯带</em></h1><blockquote>
<p> 一款可以通过手机控制的智能灯带，包括呼吸灯、流水灯模式以及根据天气变化切换模式。</p>
<p> 项目代码：</p>
<ul>
<li>视频地址：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1X34y1M7L8/?spm_id_from=333.337.search-card.all.click&vd_source=89c2ecd16d049f7e389852ac699e1d72">ESP-IDF VSCode 开发 【沉浸式教程】_哔哩哔哩_bilibili</a></li>
<li>原始代码：<a target="_blank" rel="noopener" href="https://github.com/jungle8884/LED_Strip_RainMaker">jungle8884/LED_Strip_RainMaker: 智能灯带 (github.com)</a></li>
<li>升级代码：<a target="_blank" rel="noopener" href="https://gitee.com/jungle8884/get_weather_rainmaker/blob/master/README.md">README.md · Jungle8884/get_weather_rainmaker - Gitee.com</a></li>
</ul>
</blockquote>
<p><strong>原材料：</strong></p>
<ul>
<li>WS2812 </li>
<li>ESP32 C3</li>
<li>ESP Rainmaker-app</li>
</ul>
<p><strong>实现效果：</strong></p>
<img src="/2024/06/07/IntelligenLEDStrip/image-20240606090207406.png" alt="image-20240606090207406" style="zoom:80%;margin:0px;">

<p><strong>实现功能：</strong></p>
<ol>
<li><p>手机上可以远程控制智能灯带切换模式：</p>
<ul>
<li><p>呼吸灯</p>
</li>
<li><p>流水灯</p>
</li>
</ul>
</li>
<li><p>手机上可以远程设置灯带色彩</p>
</li>
<li><p>手机上可以远程获取天气信息</p>
</li>
</ol>
<p><strong>实现步骤：</strong></p>
<ol>
<li>采用百度地图<code>api</code>获取天气信息</li>
<li>实现呼吸灯和流水灯程序</li>
<li>通过天气设置灯带模式</li>
<li>通过ESP Rainmaker接入IOT平台</li>
<li>升级天气和灯带控制按钮</li>
<li>烧录程序到ESP32 C3开发板</li>
</ol>
<p><strong>接线方式：</strong></p>
<ul>
<li>5V GND 供电接ESP32开发板</li>
<li>GPIO 2 接输入</li>
<li>开发板GPIO9-Boot接电阻+LED灯制作启动指示灯 【按下boot按钮LED会亮】</li>
</ul>
<p><img src="/2024/06/07/IntelligenLEDStrip/image-20240606091516102.png" alt="image-20240606091516102" style="zoom:80%;margin-left:40px"><img src="/2024/06/07/IntelligenLEDStrip/image-20240606091803321.png" alt="image-20240606091803321"></p>
<h2 id="天气"><a href="#天气" class="headerlink" title="天气"></a>天气</h2><blockquote>
<p>实现逻辑：通过调用百度地图天气<code>api</code>获取信息，提取关键信息并显示。</p>
<p>实现步骤：</p>
<ul>
<li>登录百度地图<code>api</code>申请开发者密钥</li>
<li>将连接复制到浏览器测试<code>api</code>是否可行：<code>http://api.map.baidu.com/weather/v1/?district_id=地区代码&amp;data_type=all&amp;ak=你的密钥</code><ul>
<li>深圳：district_id=440300</li>
<li>密钥：<code>ak</code>=自己申请</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="天气信息"><a href="#天气信息" class="headerlink" title="天气信息"></a>天气信息</h3><pre><code class="json">&#123;
    &quot;status&quot;: 0,
    &quot;result&quot;: &#123;
        &quot;location&quot;: &#123;
            &quot;country&quot;: &quot;中国&quot;,
            &quot;province&quot;: &quot;广东省&quot;,
            &quot;city&quot;: &quot;深圳市&quot;,
            &quot;name&quot;: &quot;深圳&quot;,
            &quot;id&quot;: &quot;440300&quot;
        &#125;,
        &quot;now&quot;: &#123;
            &quot;text&quot;: &quot;阴&quot;,
            &quot;temp&quot;: 26,
            &quot;feels_like&quot;: 29,
            &quot;rh&quot;: 91,
            &quot;wind_class&quot;: &quot;1级&quot;,
            &quot;wind_dir&quot;: &quot;东南风&quot;,
            &quot;uptime&quot;: &quot;20240606090000&quot;
        &#125;,
        &quot;forecasts&quot;: [
            &#123;
                &quot;text_day&quot;: &quot;雷阵雨&quot;,
                &quot;text_night&quot;: &quot;雷阵雨&quot;,
                &quot;high&quot;: 28,
                &quot;low&quot;: 24,
                &quot;wc_day&quot;: &quot;&lt;3级&quot;,
                &quot;wd_day&quot;: &quot;静风&quot;,
                &quot;wc_night&quot;: &quot;&lt;3级&quot;,
                &quot;wd_night&quot;: &quot;静风&quot;,
                &quot;date&quot;: &quot;2024-06-06&quot;,
                &quot;week&quot;: &quot;星期四&quot;
            &#125;,
            &#123;
                &quot;text_day&quot;: &quot;中雨&quot;,
                &quot;text_night&quot;: &quot;雷阵雨&quot;,
                &quot;high&quot;: 28,
                &quot;low&quot;: 24,
                &quot;wc_day&quot;: &quot;&lt;3级&quot;,
                &quot;wd_day&quot;: &quot;静风&quot;,
                &quot;wc_night&quot;: &quot;&lt;3级&quot;,
                &quot;wd_night&quot;: &quot;静风&quot;,
                &quot;date&quot;: &quot;2024-06-07&quot;,
                &quot;week&quot;: &quot;星期五&quot;
            &#125;,
            &#123;
                &quot;text_day&quot;: &quot;中雨&quot;,
                &quot;text_night&quot;: &quot;雷阵雨&quot;,
                &quot;high&quot;: 28,
                &quot;low&quot;: 25,
                &quot;wc_day&quot;: &quot;&lt;3级&quot;,
                &quot;wd_day&quot;: &quot;静风&quot;,
                &quot;wc_night&quot;: &quot;&lt;3级&quot;,
                &quot;wd_night&quot;: &quot;静风&quot;,
                &quot;date&quot;: &quot;2024-06-08&quot;,
                &quot;week&quot;: &quot;星期六&quot;
            &#125;,
            &#123;
                &quot;text_day&quot;: &quot;多云&quot;,
                &quot;text_night&quot;: &quot;多云&quot;,
                &quot;high&quot;: 30,
                &quot;low&quot;: 26,
                &quot;wc_day&quot;: &quot;&lt;3级&quot;,
                &quot;wd_day&quot;: &quot;静风&quot;,
                &quot;wc_night&quot;: &quot;&lt;3级&quot;,
                &quot;wd_night&quot;: &quot;静风&quot;,
                &quot;date&quot;: &quot;2024-06-09&quot;,
                &quot;week&quot;: &quot;星期日&quot;
            &#125;,
            &#123;
                &quot;text_day&quot;: &quot;多云&quot;,
                &quot;text_night&quot;: &quot;多云&quot;,
                &quot;high&quot;: 31,
                &quot;low&quot;: 26,
                &quot;wc_day&quot;: &quot;&lt;3级&quot;,
                &quot;wd_day&quot;: &quot;静风&quot;,
                &quot;wc_night&quot;: &quot;&lt;3级&quot;,
                &quot;wd_night&quot;: &quot;静风&quot;,
                &quot;date&quot;: &quot;2024-06-10&quot;,
                &quot;week&quot;: &quot;星期一&quot;
            &#125;
        ]
    &#125;,
    &quot;message&quot;: &quot;success&quot;
&#125;
</code></pre>
<h3 id="主要代码"><a href="#主要代码" class="headerlink" title="主要代码"></a>主要代码</h3><pre><code class="c">/**
 * @brief 使用 URL 执行 HTTP REST 请求
 *
 * 从指定的 URL 中执行 HTTP GET 请求，并解析返回的 JSON 数据以获取天气信息。
 *
 * @note 需要在 ESP-IDF 环境下运行
 */
static void http_rest_with_url(void)
&#123;
    ESP_LOGI(TAG, &quot;HTTP GET from URL&quot;);
    char local_response_buffer[MAX_HTTP_OUTPUT_BUFFER] = &#123;0&#125;;
    esp_http_client_config_t config = &#123;
        .url = &quot;http://api.map.baidu.com/weather/v1/?district_id=地区代码&amp;data_type=all&amp;ak=你的密钥&quot;,
        .event_handler = _http_event_handler, // 事件处理函数
        .user_data = local_response_buffer, // 用于保存 HTTP 响应数据      
        .disable_auto_redirect = true, // 禁用自动重定向
    &#125;;
    esp_http_client_handle_t client = esp_http_client_init(&amp;config);

    // GET
    esp_err_t err = esp_http_client_perform(client);
    if (err == ESP_OK) &#123;
        ESP_LOGI(TAG, &quot;HTTP GET Status = %d, content_length = %d&quot;,
                (int)esp_http_client_get_status_code(client), // 获取响应状态码
                (int)esp_http_client_get_content_length(client)); // 获取响应内容长度
    &#125; else &#123;
        ESP_LOGE(TAG, &quot;HTTP GET request failed: %s&quot;, esp_err_to_name(err)); // 将错误码 err 转换为对应的错误字符串，以便更容易理解错误原因
    &#125;

    // 处理天气数据
    cJSON *root = cJSON_Parse(local_response_buffer); //根节点
    // cJSON *status = cJSON_GetObjectItem(root,&quot;status&quot;); //节点1

    cJSON *result = cJSON_GetObjectItem(root,&quot;result&quot;); //节点2

    cJSON *location = cJSON_GetObjectItem(result,&quot;location&quot;); //节点2.1
    name = cJSON_GetObjectItem(location,&quot;name&quot;)-&gt;valuestring;

    cJSON *now = cJSON_GetObjectItem(result,&quot;now&quot;); //节点2.2
    temp = cJSON_GetObjectItem(now,&quot;temp&quot;)-&gt;valueint;
    text = cJSON_GetObjectItem(now,&quot;text&quot;)-&gt;valuestring;
    rh = cJSON_GetObjectItem(now,&quot;rh&quot;)-&gt;valueint;
    wind_class = cJSON_GetObjectItem(now,&quot;wind_class&quot;)-&gt;valuestring;

    // cJSON *forecasts = cJSON_GetObjectItem(forecasts,&quot;forecasts&quot;); //节点2.3

    // cJSON *message = cJSON *status = cJSON_GetObjectItem(root,&quot;message&quot;); //节点3
    
    ESP_LOGE(TAG, &quot;地区: %s&quot;, name);
    ESP_LOGE(TAG, &quot;天气: %s&quot;, text);
    ESP_LOGE(TAG, &quot;温度: %d °C&quot;, temp);
    ESP_LOGE(TAG, &quot;湿度: %d&quot;, rh);
    ESP_LOGE(TAG, &quot;风力: %s&quot;, wind_class);

    cJSON_Delete(root);
    esp_http_client_cleanup(client);
&#125;
</code></pre>
<h3 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h3><blockquote>
<p>在main外部的CMakeList.txt下设置：<code>set(EXTRA_COMPONENT_DIRS $ENV&#123;IDF_PATH&#125;/examples/common_components/protocol_examples_common)</code>, 导入 <code>IDF_PATH</code> 组件。</p>
<p>接着导入头文件：</p>
<p><code>#include &quot;esp_log.h&quot; #include &quot;esp_err.h&quot; #include &quot;esp_system.h&quot; #include &quot;nvs_flash.h&quot; #include &quot;esp_event.h&quot; #include &quot;esp_netif.h&quot; #include &quot;protocol_examples_common.h&quot; #include &quot;esp_tls.h&quot; #include &quot;esp_http_client.h&quot;</code></p>
</blockquote>
<p><img src="/2024/06/07/IntelligenLEDStrip/image-20240606093113123.png" alt="image-20240606093113123"></p>
<h2 id="自定义组件"><a href="#自定义组件" class="headerlink" title="自定义组件"></a>自定义组件</h2><p>1，新建components文件夹</p>
<p>2，复制需要使用的 <code>组件</code> <code>eg: protocol_examples_common </code></p>
<p>3，导入组件 <code>eg: \#include &quot;protocol_examples_common.h&quot;</code></p>
<img src="/2024/06/07/IntelligenLEDStrip/image-20240606094153842.png" alt="image-20240606094153842" style="zoom:80%;margin-left:0px">

<h2 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h2><h3 id="GPIO"><a href="#GPIO" class="headerlink" title="GPIO"></a>GPIO</h3><pre><code class="c">// GPIO assignment
#define LED_STRIP_BLINK_GPIO  2
// Numbers of the LED in the strip
#define LED_STRIP_LED_NUMBERS 16
// 10MHz resolution, 1 tick = 0.1us (led strip needs a high resolution)
#define LED_STRIP_RMT_RES_HZ  (10 * 1000 * 1000)

#define GPIO_INPUT_PIN GPIO_NUM_9
#define MAX_HTTP_OUTPUT_BUFFER 2048
</code></pre>
<h3 id="天气-1"><a href="#天气-1" class="headerlink" title="天气"></a>天气</h3><pre><code class="c">static const char *TAG = &quot;HTTP_CLIENT&quot;;

static bool weather_get = false;

// 19:53
static int temp = 0; //温度
static char *name; //地区：深圳
static char *text; //天气：中雨
static char *wind_class; //风力：2级
static int rh; //湿度：91
</code></pre>
<h3 id="灯带"><a href="#灯带" class="headerlink" title="灯带"></a>灯带</h3><pre><code class="c">// 23:25
static uint8_t base_r = 150;
static uint8_t base_g = 150;
static uint8_t base_b = 150;

static int led_mode = 0;

static int direction = 1;
static int brightness = 0;
</code></pre>
<h3 id="信号量"><a href="#信号量" class="headerlink" title="信号量"></a>信号量</h3><pre><code class="c">// 信号量
SemaphoreHandle_t data_ready;
SemaphoreHandle_t json_done;
</code></pre>
<h3 id="ESP-Rainmaker"><a href="#ESP-Rainmaker" class="headerlink" title="ESP Rainmaker"></a>ESP Rainmaker</h3><pre><code class="c">// 33:49
esp_rmaker_device_t *temp_sensor_device;
esp_rmaker_device_t *led_control;
</code></pre>
<h2 id="灯带-1"><a href="#灯带-1" class="headerlink" title="灯带"></a>灯带</h2><h3 id="主要代码-1"><a href="#主要代码-1" class="headerlink" title="主要代码"></a>主要代码</h3><h4 id="灯带配置"><a href="#灯带配置" class="headerlink" title="灯带配置"></a>灯带配置</h4><h5 id="led-strip-types-h"><a href="#led-strip-types-h" class="headerlink" title="led_strip_types.h"></a><code>led_strip_types.h</code></h5><pre><code class="c">/*
 * SPDX-FileCopyrightText: 2022-2023 Espressif Systems (Shanghai) CO LTD
 *
 * SPDX-License-Identifier: Apache-2.0
 */
#pragma once

#include &lt;stdint.h&gt;

#ifdef __cplusplus
extern &quot;C&quot; &#123;
#endif

/**
 * @brief LED strip pixel format
 */
typedef enum &#123;
    LED_PIXEL_FORMAT_GRB,    /*!&lt; Pixel format: GRB */
    LED_PIXEL_FORMAT_GRBW,   /*!&lt; Pixel format: GRBW */
    LED_PIXEL_FORMAT_INVALID /*!&lt; Invalid pixel format */
&#125; led_pixel_format_t;

/**
 * @brief LED strip model
 * @note Different led model may have different timing parameters, so we need to distinguish them.
 */
typedef enum &#123;
    LED_MODEL_WS2812, /*!&lt; LED strip model: WS2812 */
    LED_MODEL_SK6812, /*!&lt; LED strip model: SK6812 */
    LED_MODEL_INVALID /*!&lt; Invalid LED strip model */
&#125; led_model_t;

/**
 * @brief LED strip handle
 */
typedef struct led_strip_t *led_strip_handle_t;

/**
 * @brief LED Strip Configuration
 */
typedef struct &#123;
    int strip_gpio_num;      /*!&lt; GPIO number that used by LED strip */
    uint32_t max_leds;       /*!&lt; Maximum LEDs in a single strip */
    led_pixel_format_t led_pixel_format; /*!&lt; LED pixel format */
    led_model_t led_model;   /*!&lt; LED model */

    struct &#123;
        uint32_t invert_out: 1; /*!&lt; Invert output signal */
    &#125; flags;                    /*!&lt; Extra driver flags */
&#125; led_strip_config_t;

#ifdef __cplusplus
&#125;
#endif
</code></pre>
<h5 id="配置灯带并返回灯带对象"><a href="#配置灯带并返回灯带对象" class="headerlink" title="配置灯带并返回灯带对象"></a>配置灯带并返回灯带对象</h5><pre><code class="c">/**
 * @brief 配置LED灯带 WS2812
 *
 * 根据LED板设计进行LED灯带的一般初始化。
 * 定义了一个名为configure_led的函数，它返回一个led_strip_handle_t类型的值，
 * 这通常是一个句柄或引用，用于后续控制和管理LED灯带。
 *
 * @return LED灯带句柄
 */
led_strip_handle_t configure_led(void)
&#123;
    // 这里定义了一个led_strip_config_t类型的结构体变量strip_config，并为其各个字段赋值
    led_strip_config_t strip_config = &#123;
        .strip_gpio_num = LED_STRIP_BLINK_GPIO,   // 连接到LED灯带数据线的GPIO号
        .max_leds = LED_STRIP_LED_NUMBERS,        // LED灯带上的LED数量
        .led_pixel_format = LED_PIXEL_FORMAT_GRB, //  LED灯带的像素格式（这里是GRB）
        .led_model = LED_MODEL_WS2812,            // LED灯带的型号（这里是WS2812）
        .flags.invert_out = false,                // 是否反转输出信号
    &#125;;

    // LED灯带后端配置: RMT [RMT是Espressif IoT芯片中的一个硬件特性，通常用于控制各种外设。]
    led_strip_rmt_config_t rmt_config = &#123;
        #if ESP_IDF_VERSION &lt; ESP_IDF_VERSION_VAL(5, 0, 0) // 在ESP_IDF_VERSION小于5.0.0的情况下，只设置了.rmt_channel字段。
                .rmt_channel = 0,
        #else // 在ESP_IDF_VERSION大于或等于5.0.0的情况下，设置了多个字段，包括：
                .clk_src = RMT_CLK_SRC_DEFAULT,        // RMT的时钟源
                .resolution_hz = LED_STRIP_RMT_RES_HZ, // RMT计数器的时钟频率
                .flags.with_dma = false,               // 是否使用DMA（Direct Memory Access）特性。
        #endif
    &#125;;

    // 创建LED灯带对象
    led_strip_handle_t led_strip;
    // 使用led_strip_new_rmt_device函数，传入之前配置的strip_config和rmt_config，创建新的LED灯带对象，并将返回的句柄存储在led_strip中
    ESP_ERROR_CHECK(led_strip_new_rmt_device(&amp;strip_config, &amp;rmt_config, &amp;led_strip));
    ESP_LOGI(TAG, &quot;Created LED strip object with RMT backend&quot;);
    return led_strip;
&#125;
</code></pre>
<h4 id="呼吸灯实现"><a href="#呼吸灯实现" class="headerlink" title="呼吸灯实现"></a>呼吸灯实现</h4><pre><code class="c">/**
 * @brief LED呼吸灯效果
 *
 * 根据给定的LED灯带句柄，实现LED呼吸灯效果。通过循环设置每个LED的颜色，并刷新灯带实现呼吸灯效果。
 *
 * @param led_strip LED灯带句柄
 */
static void led_breth(led_strip_handle_t led_strip) &#123;
    // 当前亮度 = 基础rgb值 * 亮度 /255
    uint8_t color_r = base_r * brightness /255;
    uint8_t color_g = base_g * brightness /255;
    uint8_t color_b = base_b * brightness /255;

    // 循环设置灯的颜色
    for (int i = 0; i &lt; LED_STRIP_LED_NUMBERS; i++) &#123;
        ESP_ERROR_CHECK(led_strip_set_pixel(led_strip, i, color_r, color_g, color_b));
    &#125;

    // 点亮LED: 刷新LED灯带，使设置的颜色生效
    ESP_ERROR_CHECK(led_strip_refresh(led_strip));

    // 更新亮度值
    brightness += direction;

    // 判断亮度是否达到最大或最小，以改变呼吸灯的方向
    if (brightness == 255 || brightness == 0) &#123;
        direction = -direction;
    &#125;
    
&#125;
</code></pre>
<h4 id="流水灯实现"><a href="#流水灯实现" class="headerlink" title="流水灯实现"></a>流水灯实现</h4><pre><code class="c">/**
 * @brief LED流动效果
 *
 * 在LED灯带上实现流动效果。从第一个LED开始，依次点亮，形成流动的视觉效果。
 *
 * @param led_strip LED灯带句柄
 */
static void led_flow(led_strip_handle_t led_strip) &#123;
    int tail_length = 3;

    // 遍历 LED 灯带上的每个 LED
    for (int i = 0; i &lt; LED_STRIP_LED_NUMBERS; i++) &#123;
        // 清除 LED 灯带上的所有 LED 的颜色
        ESP_ERROR_CHECK(led_strip_clear(led_strip));

        // 遍历尾巴的长度
        for (int j = 0; j &lt; tail_length; j++)
        &#123;
            // 计算当前 LED 的位置
            int position = i - j;
            /** 0 ~ 15 依次亮度依次减弱
            i=0:    0
                    1 0
                    2 1 0
                    3 2 1
                    4 3 2
                    ...
            i=15:   15 14 13
            */
            if (position &gt;= 0) &#123;
                uint8_t tail_r = base_r - (j * (base_r / tail_length));
                uint8_t tail_g = base_g - (j * (base_g / tail_length));
                uint8_t tail_b = base_b - (j * (base_b / tail_length));

                // 设置 LED 灯带上第 position 个 LED 的颜色
                ESP_ERROR_CHECK(led_strip_set_pixel(led_strip, position, tail_r, tail_g, tail_b));
            &#125;
        &#125;

        // 设置头部
        // 设置 LED 灯带上第 i 个 LED 的颜色为基准颜色
        ESP_ERROR_CHECK(led_strip_set_pixel(led_strip, i, base_r, base_g, base_b));

        // 刷新 LED 灯带上的颜色
        ESP_ERROR_CHECK(led_strip_refresh(led_strip));

        // 延时 100 毫秒
        vTaskDelay(pdMS_TO_TICKS(100));
    &#125;
&#125;
</code></pre>
<h2 id="IOT赋能-智能灯带"><a href="#IOT赋能-智能灯带" class="headerlink" title="IOT赋能-智能灯带"></a>IOT赋能-智能灯带</h2><h3 id="头文件"><a href="#头文件" class="headerlink" title="头文件"></a>头文件</h3><pre><code class="c">#include &lt;string.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &quot;freertos/FreeRTOS.h&quot;
#include &quot;freertos/task.h&quot;

#include &quot;esp_log.h&quot;
#include &quot;esp_err.h&quot;
#include &quot;esp_system.h&quot;
#include &quot;nvs_flash.h&quot;
#include &quot;esp_event.h&quot;
#include &quot;esp_netif.h&quot;
#include &quot;protocol_examples_common.h&quot;
#include &quot;esp_tls.h&quot;
#include &quot;esp_http_client.h&quot;

#include &quot;driver/gpio.h&quot;
#include &quot;cjson.h&quot;

#include &quot;led_strip.h&quot;

// 33:00
#include &lt;esp_rmaker_core.h&gt;
#include &lt;esp_rmaker_standard_params.h&gt;
#include &lt;esp_rmaker_standard_devices.h&gt;
#include &lt;esp_rmaker_standard_types.h&gt;

#include &lt;app_wifi.h&gt;
</code></pre>
<h3 id="主函数"><a href="#主函数" class="headerlink" title="主函数"></a>主函数</h3><h4 id="NVS存储"><a href="#NVS存储" class="headerlink" title="NVS存储"></a>NVS存储</h4><pre><code class="c">esp_err_t ret = nvs_flash_init();
if (ret == ESP_ERR_NVS_NO_FREE_PAGES || ret == ESP_ERR_NVS_NEW_VERSION_FOUND) &#123;
  ESP_ERROR_CHECK(nvs_flash_erase());
  ret = nvs_flash_init();
&#125;
ESP_ERROR_CHECK(ret);
</code></pre>
<h4 id="连接WIFI"><a href="#连接WIFI" class="headerlink" title="连接WIFI"></a>连接WIFI</h4><p>固定<code>wifi</code>连接 : <code>#include &quot;protocol_examples_common.h&quot;</code></p>
<pre><code class="c">ESP_ERROR_CHECK(esp_netif_init());
ESP_ERROR_CHECK(esp_event_loop_create_default());
ESP_ERROR_CHECK(example_connect());
ESP_LOGI(TAG, &quot;Connected to AP, begin http example&quot;);
</code></pre>
<h4 id="ESP-Rainmaker-APP-蓝牙配网"><a href="#ESP-Rainmaker-APP-蓝牙配网" class="headerlink" title="ESP Rainmaker APP 蓝牙配网"></a>ESP Rainmaker APP 蓝牙配网</h4><p>升级蓝牙<code>wifi</code>配网: <code>#include &lt;app_wifi.h&gt;</code></p>
<pre><code class="c">app_wifi_init();
</code></pre>
<h4 id="Rainmaker"><a href="#Rainmaker" class="headerlink" title="Rainmaker"></a>Rainmaker</h4><h5 id="APP界面UI设置"><a href="#APP界面UI设置" class="headerlink" title="APP界面UI设置"></a>APP界面UI设置</h5><blockquote>
<p>使用了ESP RainMaker库的ESP32（或其他ESP系列）设备的代码片段，主要用于初始化并配置一个基于RainMaker的物联网应用。</p>
<ul>
<li><p>ESP RainMaker是Espressif Systems为ESP系列芯片提供的一个云服务，用于远程监控和控制物联网设备。</p>
</li>
<li><p>整个代码片段的主要目的是初始化ESP RainMaker服务，</p>
</li>
<li><p>创建一个物理节点，并在这个节点下添加两个虚拟设备：一个温度传感器和一个LED控制设备。</p>
</li>
<li><p>这些设备都带有一些参数，这些参数可以在远程的ESP RainMaker应用程序上进行查看和控制。</p>
</li>
</ul>
</blockquote>
<pre><code class="c">/** 初始化rainmaker配置参数
        * 定义了一个esp_rmaker_config_t类型的结构体rainmaker_cfg，
        * 并设置enable_time_sync为false，表示不启用时间同步。
 * */ 
esp_rmaker_config_t rainmaker_cfg = &#123;
    .enable_time_sync = false, 
&#125;;

//1 物理节点: 使用之前定义的配置初始化一个物理节点，并为其命名为“ESP RainMaker Device”，类型为“Temperature Sensor”。
esp_rmaker_node_t *node = esp_rmaker_node_init(&amp;rainmaker_cfg, &quot;ESP RainMaker Device&quot;, &quot;Temperature Sensor&quot;); 

//2 物理节点上: 创建一个温度传感器虚拟设备，命名为“今日天气”。
temp_sensor_device = esp_rmaker_temp_sensor_device_create(&quot;今日天气&quot;, NULL, 0); 

// 接下来的几行代码创建了几个参数，如“地区”、“天气”、“风力”和“湿度”，并设置了它们的属性和初始值。
esp_rmaker_param_t *name_param = esp_rmaker_param_create(&quot;地区&quot;, NULL, esp_rmaker_str(&quot;&quot;), PROP_FLAG_READ | PROP_FLAG_WRITE);
esp_rmaker_param_t *text_param = esp_rmaker_param_create(&quot;天气&quot;, NULL, esp_rmaker_str(&quot;&quot;), PROP_FLAG_READ | PROP_FLAG_WRITE);
esp_rmaker_param_t *wind_param = esp_rmaker_param_create(&quot;风力&quot;, NULL, esp_rmaker_str(&quot;&quot;), PROP_FLAG_READ | PROP_FLAG_WRITE);
esp_rmaker_param_t *rh_param = esp_rmaker_param_create(&quot;湿度&quot;, NULL, esp_rmaker_int(0), PROP_FLAG_READ | PROP_FLAG_WRITE);

// 这些参数随后被添加到温度传感器虚拟设备中。
esp_rmaker_device_add_param(temp_sensor_device, name_param);
esp_rmaker_device_add_param(temp_sensor_device, text_param);
esp_rmaker_device_add_param(temp_sensor_device, wind_param);
esp_rmaker_device_add_param(temp_sensor_device, rh_param);

// 设置主要参数 app上首先显示
esp_rmaker_device_assign_primary_param(temp_sensor_device, text_param);

// 创建并设置获取天气参数的按钮
esp_rmaker_param_t *get_param = esp_rmaker_param_create(&quot;get_weather&quot;, NULL, esp_rmaker_bool(false), PROP_FLAG_READ | PROP_FLAG_WRITE);
esp_rmaker_param_add_ui_type(get_param, ESP_RMAKER_UI_PUSHBUTTON);
esp_rmaker_device_add_param(temp_sensor_device, get_param);

//3.1 添加虚拟设备-创建的温度传感器虚拟设备添加到物理节点中
esp_rmaker_node_add_device(node, temp_sensor_device); 

/** led - 创建一个自定义的设备，用于控制灯的开关和颜色。
    * 下面的代码创建了一个名为“Light”的LED控制设备，并为其添加了一个写回调函数write_cb。
    * 接着，为LED控制设备创建了两个参数：“power”和“color”，并将它们添加到设备中。
 * */ 
led_control = esp_rmaker_device_create(&quot;Light&quot;, NULL, NULL);
esp_rmaker_device_add_cb(led_control, write_cb, NULL);

esp_rmaker_param_t *power_param = esp_rmaker_param_create(&quot;power&quot;, NULL, esp_rmaker_bool(true), PROP_FLAG_READ | PROP_FLAG_WRITE);
esp_rmaker_param_add_ui_type(power_param, ESP_RMAKER_UI_TOGGLE);
esp_rmaker_device_add_param(led_control, power_param);

esp_rmaker_param_t *color_param = esp_rmaker_param_create(&quot;color&quot;, NULL, esp_rmaker_int(0), PROP_FLAG_READ | PROP_FLAG_WRITE);
esp_rmaker_param_add_ui_type(color_param, ESP_RMAKER_UI_HUE_SLIDER);
esp_rmaker_device_add_param(led_control, color_param);

// 设置主要参数 app上首先显示
esp_rmaker_device_assign_primary_param(led_control, power_param);

//3.2 添加虚拟设备-温度传感器到物理节点中
esp_rmaker_node_add_device(node, led_control); 

// 4 启动rainmaker
esp_rmaker_start(); 

// 启动WiFi连接，并使用随机生成的密钥: POP_TYPE_RANDOM 自动生成随机密钥
app_wifi_start(POP_TYPE_RANDOM);
</code></pre>
<h5 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a><strong>回调函数</strong></h5><blockquote>
<p><code>esp_rmaker_device_add_cb(led_control, write_cb, NULL);</code></p>
</blockquote>
<pre><code class="c">/**
 * @brief 写入回调函数
 *
 * 当接收到远程或本地的参数写入请求时，该函数将被调用。
 *
 * @param device ESP RainMaker 设备指针
 * @param param ESP RainMaker 参数指针
 * @param val ESP RainMaker 参数值
 * @param priv_data 私有数据指针
 * @param ctx ESP RainMaker 写入上下文指针
 *
 * @return ESP RainMaker 错误码
 */
static esp_err_t write_cb(const esp_rmaker_device_t *device, const esp_rmaker_param_t *param,
            const esp_rmaker_param_val_t val, void *priv_data, esp_rmaker_write_ctx_t *ctx)
&#123;
    // 如果ctx非空，这意味着回调函数是由远程请求触发的，并通过esp_rmaker_device_cb_src_to_str函数输出请求的来源。
    if (ctx) &#123; 
        ESP_LOGI(TAG, &quot;Received write request via : %s&quot;, esp_rmaker_device_cb_src_to_str(ctx-&gt;src));
    &#125;

    // 获取设备名称和参数名称
    const char *device_name = esp_rmaker_device_get_name(device);
    const char *param_name = esp_rmaker_param_get_name(param);

    // 处理不同的参数:
    ESP_LOGI(TAG, &quot;Received device_name: %s - para_name: %s&quot;, device_name, param_name);
    if (strcmp(param_name, &quot;power&quot;) == 0) &#123;
        ESP_LOGI(TAG, &quot;Received power = %s &quot;, val.val.b ? &quot;true&quot; : &quot;false&quot;);
        if (val.val.b) &#123;
            led_mode = 0; // 打开默认呼吸灯模式
        &#125; else &#123;
            led_mode = 2; // 关闭灯
        &#125;
    &#125; else if (strcmp(param_name, &quot;flow_or_breath&quot;) == 0) &#123;
        ESP_LOGI(TAG, &quot;Received flow_or_breath = %s &quot;, val.val.b ? &quot;breath&quot; : &quot;flow&quot;);
        if (val.val.b) &#123;
            led_mode = 0; // 呼吸灯模式
        &#125; else &#123;
            led_mode = 1; // 流水灯模式
        &#125;
    &#125; else if (strcmp(param_name, &quot;color&quot;) == 0) &#123;
        // 如果参数名为&quot;color&quot;，则记录接收到的整数值，并调用hue_to_rgb函数
        ESP_LOGI(TAG, &quot;Received color = %d &quot;, val.val.i);
        hue_to_rgb(val.val.i);
    &#125; else if (strcmp(param_name, &quot;weather&quot;) == 0) &#123;
        ESP_LOGI(TAG, &quot;Received weather = %s &quot;, val.val.b ? &quot;true&quot; : &quot;false&quot;);
        if (val.val.b) &#123;
            shouldFetchWeather  = true;
            ESP_LOGI(TAG, &quot;shouldFetchWeather  set to true&quot;);
        &#125; 
    &#125; else &#123;
        /* Silently ignoring invalid params */
        return ESP_OK;
    &#125;

    // 使用ESP RainMaker的API更新并报告参数的新值。
    esp_rmaker_param_update_and_report(param, val);

    // 对于其他未处理的参数，函数静默地忽略它们并返回ESP_OK
    return ESP_OK;
&#125;
</code></pre>
<h5 id="hue-to-rgb"><a href="#hue-to-rgb" class="headerlink" title="hue_to_rgb"></a><strong>hue_to_rgb</strong></h5><pre><code class="c">/**
 * @brief 将色调转换为 RGB 值
 *
 * 根据给定的色调值，将其转换为 RGB 值。
 *
 * @param hue 色调值，取值范围为 [0, 360]
 */
static void hue_to_rgb(int hue) &#123;
    // 如果色调小于0，则将其设置为0
    if (hue &lt; 0) &#123;
        hue = 0;
    &#125; 

    // 如果色调大于360，则将其设置为360
    if (hue &gt; 360) &#123;
        hue = 360;
    &#125;

    // 如果色调小于120
    if (hue &lt; 120) &#123;
        // 计算红色分量
        base_r = 255 - hue * 2;
        // 计算绿色分量
        base_g = hue * 2;
        // 蓝色分量为0
        base_b = 0;
    // 如果色调在120到240之间
    &#125; else if (hue &lt; 240) &#123;
        // 红色分量为0
        base_r = 0;
        // 计算绿色分量
        base_g = 255 - (hue - 120) * 2;
        // 计算蓝色分量
        base_b = (hue - 120) * 2;
    // 如果色调大于240
    &#125; else &#123;
        // 计算红色分量
        base_r = (hue - 240) * 2;
        // 绿色分量为0
        base_g = 0;
        // 计算蓝色分量
        base_b = 255 - (hue - 240) * 2;
    &#125;
&#125;
</code></pre>
<hr>
<h4 id="led-task"><a href="#led-task" class="headerlink" title="led_task"></a>led_task</h4><pre><code class="c">static void led_task(void *pvParameters) &#123;
    led_strip_handle_t led_strip = configure_led();
    while (1)
    &#123;
        if (xSemaphoreTake(data_ready, pdMS_TO_TICKS(10)) == pdTRUE) &#123;
            if (strstr(text, &quot;晴&quot;)) &#123;
                led_mode = 0;
                base_r = 255;
                base_g = 253;
                base_b = 18;
            &#125; else if (strstr(text, &quot;雨&quot;)) &#123;
                led_mode = 1;
                base_r = 255;
                base_g = 18;
                base_b = 18;
            &#125; else if (strstr(text, &quot;阴&quot;)) &#123;
                led_mode = 1;
                base_r = 160;
                base_g = 32;
                base_b = 240;
            &#125; else if (strstr(text, &quot;云&quot;)) &#123;
                led_mode = 1;
                base_r = 240;
                base_g = 230;
                base_b = 140;
            &#125; 
            // 在读取完天气内容后，可以传递信号量给 HTTP 任务，让 HTTP 任务释放 JSON 数据
            xSemaphoreGive(json_done);
        &#125;

        if (led_mode == 0) &#123;
            led_breth(led_strip);
        &#125; else if (led_mode == 1) &#123;
            led_flow(led_strip);
        &#125; else if (led_mode == 2) &#123;
            ESP_ERROR_CHECK(led_strip_clear(led_strip));
            vTaskDelay(pdMS_TO_TICKS(200));
        &#125;
    &#125;
    vTaskDelete(NULL);
&#125;
</code></pre>
<h4 id="http-test-task"><a href="#http-test-task" class="headerlink" title="http_test_task"></a>http_test_task</h4><pre><code class="c">/**
 * @brief HTTP 测试任务
 *
 * 该函数是一个无限循环的任务，用于执行 HTTP 测试。当指定的 GPIO 输入引脚为低电平时，
 * 会调用 http_rest_with_url() 函数进行 HTTP 请求，并延迟一段时间。否则，仅延迟一段时间。
 *
 * @param pvParameters 任务参数指针
 */
static void http_test_task(void *pvParameters)
&#123;
    ESP_LOGI(TAG, &quot;http_test_task started!&quot;);
    while (1) &#123;
        if (gpio_get_level(GPIO_INPUT_PIN) == 0 || weather_get == true) &#123;       
            http_rest_with_url();
            weather_get = false;
            vTaskDelay(100 / portTICK_PERIOD_MS);
        &#125;
        vTaskDelay(100 / portTICK_PERIOD_MS);
    &#125;
    vTaskDelete(NULL);

    // http_rest_with_url();
    // vTaskDelete(NULL);
&#125;
</code></pre>
<h4 id="整体函数"><a href="#整体函数" class="headerlink" title="整体函数"></a>整体函数</h4><pre><code class="c">/**
 * @brief 应用程序主入口函数
 *
 * 初始化NVS存储，连接WiFi，启动RainMaker服务，并创建HTTP测试任务和LED控制任务。
 */
void app_main(void)
&#123;
    esp_err_t ret = nvs_flash_init();
    if (ret == ESP_ERR_NVS_NO_FREE_PAGES || ret == ESP_ERR_NVS_NEW_VERSION_FOUND) &#123;
      ESP_ERROR_CHECK(nvs_flash_erase());
      ret = nvs_flash_init();
    &#125;
    ESP_ERROR_CHECK(ret);

    // ------------------------------------wifi--------------------------------------start
    // 1. 固定wifi配置信息
    // ESP_ERROR_CHECK(esp_netif_init());
    // ESP_ERROR_CHECK(esp_event_loop_create_default());
    // ESP_ERROR_CHECK(example_connect());
    // ESP_LOGI(TAG, &quot;Connected to AP, begin http example&quot;);
    // 2. 升级wifi配网: 在手机app上通过蓝牙给设备配置wifi连接
    app_wifi_init();
    // ------------------------------------wifi--------------------------------------end

    // ---------------------------------------rainmaker---------------------------------------start
    // 初始化rainmaker配置参数
    esp_rmaker_config_t rainmaker_cfg = &#123;
        .enable_time_sync = false,
    &#125;;
    esp_rmaker_node_t *node = esp_rmaker_node_init(&amp;rainmaker_cfg, &quot;ESP RainMaker Device&quot;, &quot;Temperature Sensor&quot;); //1 物理节点

    temp_sensor_device = esp_rmaker_temp_sensor_device_create(&quot;今日天气&quot;, NULL, 0); //2 物理节点上的虚拟设备-温度传感器

    esp_rmaker_param_t *name_param = esp_rmaker_param_create(&quot;地区&quot;, NULL, esp_rmaker_str(&quot;&quot;), PROP_FLAG_READ | PROP_FLAG_WRITE);
    esp_rmaker_param_t *text_param = esp_rmaker_param_create(&quot;天气&quot;, NULL, esp_rmaker_str(&quot;&quot;), PROP_FLAG_READ | PROP_FLAG_WRITE);
    esp_rmaker_param_t *wind_param = esp_rmaker_param_create(&quot;风力&quot;, NULL, esp_rmaker_str(&quot;&quot;), PROP_FLAG_READ | PROP_FLAG_WRITE);
    esp_rmaker_param_t *rh_param = esp_rmaker_param_create(&quot;湿度&quot;, NULL, esp_rmaker_int(0), PROP_FLAG_READ | PROP_FLAG_WRITE);

    esp_rmaker_device_add_param(temp_sensor_device, name_param);
    esp_rmaker_device_add_param(temp_sensor_device, text_param);
    esp_rmaker_device_add_param(temp_sensor_device, wind_param);
    esp_rmaker_device_add_param(temp_sensor_device, rh_param);

    // 设置主要参数 app上首先显示
    esp_rmaker_device_assign_primary_param(temp_sensor_device, text_param);

    // 创建获取天气参数的按钮
    esp_rmaker_param_t *get_param = esp_rmaker_param_create(&quot;get_weather&quot;, NULL, esp_rmaker_bool(false), PROP_FLAG_READ | PROP_FLAG_WRITE);
    esp_rmaker_param_add_ui_type(get_param, ESP_RMAKER_UI_PUSHBUTTON);
    esp_rmaker_device_add_param(temp_sensor_device, get_param);

    esp_rmaker_node_add_device(node, temp_sensor_device); //3.1 添加虚拟设备-温度传感器到物理节点中

    // led - 创建一个自定义的设备，用于控制灯
    led_control = esp_rmaker_device_create(&quot;Light&quot;, NULL, NULL);
    esp_rmaker_device_add_cb(led_control, write_cb, NULL);
   
    esp_rmaker_param_t *power_param = esp_rmaker_param_create(&quot;power&quot;, NULL, esp_rmaker_bool(true), PROP_FLAG_READ | PROP_FLAG_WRITE);
    esp_rmaker_device_add_param(led_control, power_param);
    esp_rmaker_device_assign_primary_param(led_control, power_param);

    esp_rmaker_param_t *color_param = esp_rmaker_param_create(&quot;color&quot;, NULL, esp_rmaker_int(0), PROP_FLAG_READ | PROP_FLAG_WRITE);
    esp_rmaker_param_add_ui_type(color_param, ESP_RMAKER_UI_HUE_SLIDER);
    esp_rmaker_device_add_param(led_control, color_param);

    esp_rmaker_node_add_device(node, led_control); //3.2 添加虚拟设备-温度传感器到物理节点中

    esp_rmaker_start(); // 4 启动rainmaker

    // POP_TYPE_RANDOM 自动生成随机密钥
    app_wifi_start(POP_TYPE_RANDOM);
    // ---------------------------------------rainmaker---------------------------------------end

    data_ready = xSemaphoreCreateBinary();
    json_done = xSemaphoreCreateBinary();

    // 【HTTP任务】
    xTaskCreate(&amp;http_test_task, &quot;http_test_task&quot;, 8192, NULL, 5, NULL);

    // 流程：解析JSON数据【HTTP任务】 -&gt; 使用被解析后的数据【LED任务】 -&gt; 释放JSON数据【HTTP任务】
    // 1， LED 任务只使用被完全解析后的天气信息
    // 2，LED 任务要在JSON数据被释放之前完成读取
    xTaskCreate(&amp;led_task, &quot;led_task&quot;, 8192, NULL, 5, NULL);
&#125;
</code></pre>
<p>遇到的问题：<code>Guru Meditation Error: Core  1 panic&#39;ed (LoadProhibited). Exception was unhandled.</code></p>
<p>如何解决：取消上报信息</p>
<pre><code class="c">static void data_report() &#123;
    ESP_LOGI(TAG, &quot;data_report...&quot;);

    // 更新并报告温度参数
    // esp_rmaker_param_update_and_report(
    //         esp_rmaker_device_get_param_by_type(temp_sensor_device, &quot;温度&quot;),
    //         esp_rmaker_str(temp));

    // // 更新并报告天气参数
    // esp_rmaker_param_update_and_report(
    //         esp_rmaker_device_get_param_by_type(temp_sensor_device, &quot;天气&quot;),
    //         esp_rmaker_str(text));

    // 更新并报告地区参数
    // esp_rmaker_param_update_and_report(
    //         esp_rmaker_device_get_param_by_type(temp_sensor_device, &quot;地区&quot;),
    //         esp_rmaker_str(name));

    // // 更新并报告风力参数
    // esp_rmaker_param_update_and_report(
    //         esp_rmaker_device_get_param_by_type(temp_sensor_device, &quot;风力&quot;),
    //         esp_rmaker_str(wind_class));

    // // 更新并报告湿度参数
    // esp_rmaker_param_update_and_report(
    //         esp_rmaker_device_get_param_by_type(temp_sensor_device, &quot;湿度&quot;),
    //         esp_rmaker_int(rh));

    vTaskDelay(pdMS_TO_TICKS(100));

    // 如果天气文本中包含&quot;雨&quot;字
    if (strstr(text, &quot;雨&quot;) != NULL)
    &#123;
        // 触发下雨警告
        esp_rmaker_raise_alert(&quot;下雨了，注意带伞!&quot;);
    &#125;

    // 如果温度大于20度
    if (temp &gt; 20)
    &#123;
        // 触发高温警告
        esp_rmaker_raise_alert(&quot;高温天气，小心中暑!&quot;);
    &#125;
    
&#125;


// esp_rmaker_param_t *temp_param = esp_rmaker_param_create(&quot;温度&quot;, &quot;温度&quot;, esp_rmaker_str(&quot;&quot;), PROP_FLAG_READ | PROP_FLAG_WRITE);
    // esp_rmaker_param_t *name_param = esp_rmaker_param_create(&quot;地区&quot;, &quot;Name&quot;, esp_rmaker_str(&quot;&quot;), PROP_FLAG_READ | PROP_FLAG_WRITE);
    // esp_rmaker_param_t *text_param = esp_rmaker_param_create(&quot;天气&quot;, &quot;Name&quot;, esp_rmaker_str(&quot;&quot;), PROP_FLAG_READ | PROP_FLAG_WRITE);
    // esp_rmaker_param_t *wind_param = esp_rmaker_param_create(&quot;风力&quot;, &quot;风力&quot;, esp_rmaker_str(&quot;&quot;), PROP_FLAG_READ | PROP_FLAG_WRITE);
    // esp_rmaker_param_t *rh_param = esp_rmaker_param_create(&quot;湿度&quot;, &quot;湿度&quot;, esp_rmaker_str(&quot;&quot;), PROP_FLAG_READ | PROP_FLAG_WRITE);

    // 这些参数随后被添加到温度传感器虚拟设备中。
    // esp_rmaker_device_add_param(temp_sensor_device, temp_param);
    // esp_rmaker_device_add_param(temp_sensor_device, name_param);
    // esp_rmaker_device_add_param(temp_sensor_device, text_param);
    // esp_rmaker_device_add_param(temp_sensor_device, wind_param);
    // esp_rmaker_device_add_param(temp_sensor_device, rh_param);
</code></pre>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 jungle8884@163.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>




    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: '',
            clientSecret: '',
            repo: 'jungle8884.github.io',
            owner: 'jungle8884',
            admin: ['jungle8884'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('10',10)
        })
        gitalk.render('comments')
    })
</script>




    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2019-2022 Jungle
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>







</html>
